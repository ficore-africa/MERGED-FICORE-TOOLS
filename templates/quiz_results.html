<!DOCTYPE html>
<html lang="{{ results.language }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="View your financial personality quiz results - Ficore Africa">
    <meta name="keywords" content="ficore africa, quiz results, financial personality, Africa SME finance">
    <meta name="author" content="Ficore Africa">
    <title>{{ trans['Quiz Results'] }} - Ficore Africa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <style>
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #E3F2FD, #F5F7FA); margin: 0; padding: 20px; box-sizing: border-box; color: #333; }
        .container { max-width: 1000px; margin: auto; }
        header { background: linear-gradient(45deg, #2E7D32, #0288D1); padding: 2rem; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); margin-bottom: 2rem; text-align: center; color: white; }
        .logo-container img { max-width: 200px; }
        .results-card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .badge { display: inline-block; padding: 5px 10px; margin: 5px; background: #28a745; color: white; border-radius: 5px; }
        .chart-container { margin-top: 20px; padding: 1em; background: #f6fafe; border-radius: 8px; }
        .answer-item { margin-bottom: 10px; padding: 10px; background: #f6fafe; border-radius: 5px; }
        .footer { margin-top: 20px; text-align: center; color: #333; }
        .footer a { color: #0288D1; text-decoration: none; margin: 0 10px; }
        .social-icons a { font-size: 1.2rem; margin: 0 10px; color: #0288D1; }
        .social-icons a:hover { color: #2E7D32; }
        @media (max-width: 600px) { .results-card { padding: 10px; } .chart-container { padding: 0.5em; } }
    </style>
</head>
<body>
    <div class="container">
        <header class="my-4">
            <div class="logo-container">
                <img src="{{ url_for('static', filename='img/ficore_logo.png') }}" alt="Ficore Africa Logo" class="img-fluid">
            </div>
            <h1>{{ trans['Quiz Results'] }}</h1>
            <p>{{ trans['Your Financial Personality Revealed'] }}</p>
        </header>

        <main>
            <div class="results-card">
                <h2>{{ trans['Hello'] }}, {{ results.first_name or trans['User'] }}!</h2>
                <p>{{ trans['Your financial personality is'] }}: <strong>{{ results.personality }}</strong></p>
                <p>{{ results.personality_desc }}</p>
                <p><strong>{{ trans['Tip'] }}:</strong> {{ results.tip }}</p>
                <h3>{{ trans['Your Badges'] }}</h3>
                {% if results.badges %}
                    {% for badge in results.badges %}
                        <span class="badge">{{ badge }}</span>
                    {% endfor %}
                {% else %}
                    <p>{{ trans['No badges earned yet. Keep exploring!'] }}</p>
                {% endif %}
                <h3>{{ trans['Your Answers'] }}</h3>
                <div>
                    {% for question, answer in results.answers %}
                        <div class="answer-item">
                            <strong>{{ trans[question] if trans.get(question) else question }}:</strong>
                            {{ trans[answer] if trans.get(answer) else answer }}
                        </div>
                    {% endfor %}
                </div>
                {% if results.summary_chart %}
                    <div class="chart-container">
                        <h4>{{ trans['Quiz Summary'] }}</h4>
                        {{ results.summary_chart|safe }}
                    </div>
                {% else %}
                    <p>{{ trans['No summary chart available.'] }}</p>
                {% endif %}
            </div>
            <div class="d-flex justify-content-center gap-2">
                <a href="{{ url_for('quiz_step1') }}" class="btn btn-primary" aria-label="{{ trans['Take Quiz Again'] }}">{{ trans['Take Quiz Again'] }}</a>
                <a href="{{ url_for('index') }}" class="btn btn-secondary" aria-label="{{ trans['Back to Home'] }}">{{ trans['Back to Home'] }}</a>
            </div>
        </main>

        <footer class="footer">
            <p>{{ trans['About Ficore Africa'] }}: {{ trans['Empowering financial growth across Africa since 2023'] }}</p>
            <div class="social-icons">
                <a href="{{ FACEBOOK_URL }}" target="_blank" aria-label="{{ trans['Follow on Facebook'] }}"><i class="fab fa-facebook"></i></a>
                <a href="{{ LINKEDIN_URL }}" target="_blank" aria-label="{{ trans['Follow on LinkedIn'] }}"><i class="fab fa-linkedin"></i></a>
                <a href="{{ TWITTER_URL }}" target="_blank" aria-label="{{ trans['Follow on Twitter'] }}"><i class="fab fa-twitter"></i></a>
            </div>
            <p>
                <a href="{{ FEEDBACK_FORM_URL }}">{{ trans['Click to Email for support'] }}</a> |
                <a href="{{ WAITLIST_FORM_URL }}" target="_blank">{{ trans['Provide Feedback'] }}</a>
                <a href="{{ url_for('logout') }}">{{ trans['Logout'] }}</a>
            </p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.plotly.com/plotly-2.18.2.min.js"></script>
</body>
</html>
